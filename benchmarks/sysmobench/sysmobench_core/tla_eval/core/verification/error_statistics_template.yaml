# TLA+ Error Statistics Template
# This file tracks the frequency of different TLC error types across experiments
# Note: Violation errors (like invariant violations) should NOT be counted here
# as they represent model-checking discoveries, not specification errors

metadata:
  created_date: "2025-01-01"
  last_updated: "2025-01-01"
  description: "Long-term statistics of TLA+ specification errors generated by LLMs"
  version: "1.0"

# High-level error categories
error_categories:
  success: 0
  compilation_errors: 0
  runtime_errors: 0
  violations: 0  # Should remain 0 - violations are not errors but findings
  unknown_errors: 0

# Detailed TLC error codes
# Based on EC.java from TLA+ source code
tlc_error_codes:
  
  # System-level errors (1000-1102)
  system_errors:
    1000: 0  # GENERAL
    1001: 0  # SYSTEM_OUT_OF_MEMORY
    1002: 0  # SYSTEM_OUT_OF_MEMORY_TOO_MANY_INIT
    1003: 0  # SYSTEM_OUT_OF_MEMORY_LIVENESS
    1005: 0  # SYSTEM_STACK_OVERFLOW
    1101: 0  # WRONG_COMMANDLINE_PARAMS_SIMULATOR
    1102: 0  # WRONG_COMMANDLINE_PARAMS_TLC

  # TLC parsing errors (2000, 2171, 3002)
  parsing_errors:
    2000: 0  # TLC_PP_PARSING_VALUE
    2001: 0  # TLC_PP_FORMATING_VALUE
    2171: 0  # TLC_PARSING_FAILED2
    3002: 0  # TLC_PARSING_FAILED

  # TLC runtime evaluation errors (2100-2200)
  runtime_evaluation_errors:
    2102: 0  # TLC_INITIAL_STATE
    2103: 0  # TLC_NESTED_EXPRESSION
    2106: 0  # TLC_STATE_NOT_COMPLETELY_SPECIFIED_INITIAL
    2109: 0  # TLC_STATE_NOT_COMPLETELY_SPECIFIED_NEXT
    2111: 0  # TLC_INVARIANT_EVALUATION_FAILED
    2113: 0  # TLC_ACTION_PROPERTY_EVALUATION_FAILED
    2115: 0  # TLC_STATES_AND_NO_NEXT_ACTION
    2117: 0  # TLC_FAILED_TO_RECOVER_NEXT
    2118: 0  # TLC_NO_STATES_SATISFYING_INIT
    2119: 0  # TLC_STRING_MODULE_NOT_FOUND
    2123: 0  # TLC_FAILED_TO_RECOVER_INIT
    2147: 0  # TLC_FINGERPRINT_EXCEPTION
    2148: 0  # TLC_STATE_NOT_COMPLETELY_SPECIFIED_LIVE
    2256: 0  # TLC_NO_STATES_SATISFYING_INIT_AND_CONSTRAINT

  # TLC module and expression errors (2130-2190)
  module_expression_errors:
    2139: 0  # TLC_COULD_NOT_DETERMINE_SUBSCRIPT
    2140: 0  # TLC_SUBSCRIPT_CONTAIN_NO_STATE_VAR
    2141: 0  # TLC_WRONG_TUPLE_FIELD_NAME
    2142: 0  # TLC_WRONG_RECORD_FIELD_NAME
    2143: 0  # TLC_UNCHANGED_VARIABLE_CHANGED
    2144: 0  # TLC_EXCEPT_APPLIED_TO_UNKNOWN_FIELD
    2145: 0  # TLC_MODULE_TLCGET_UNDEFINED
    2155: 0  # TLC_MODULE_COMPARE_VALUE
    2157: 0  # TLC_MODULE_TRANSITIVE_CLOSURE
    2158: 0  # TLC_MODULE_CHECK_MEMBER_OF
    2164: 0  # TLC_CHOOSE_ARGUMENTS_WRONG
    2165: 0  # TLC_CHOOSE_UPPER_BOUND
    2169: 0  # TLC_MODULE_ARGUMENT_ERROR
    2170: 0  # TLC_ARGUMENT_MISMATCH
    2176: 0  # TLC_MODULE_APPLYING_TO_WRONG_VALUE
    2177: 0  # TLC_MODULE_BAG_UNION1
    2178: 0  # TLC_MODULE_OVERFLOW
    2179: 0  # TLC_MODULE_DIVISION_BY_ZERO
    2180: 0  # TLC_MODULE_NULL_POWER_NULL
    2181: 0  # TLC_MODULE_COMPUTING_CARDINALITY
    2182: 0  # TLC_MODULE_EVALUATING
    2183: 0  # TLC_MODULE_ARGUMENT_NOT_IN_DOMAIN
    2184: 0  # TLC_MODULE_APPLY_EMPTY_SEQ

  # TLC configuration errors (2222-2245)
  config_errors:
    2222: 0  # TLC_CONFIG_VALUE_NOT_ASSIGNED_TO_CONSTANT_PARAM
    2223: 0  # TLC_CONFIG_RHS_ID_APPEARED_AFTER_LHS_ID
    2224: 0  # TLC_CONFIG_WRONG_SUBSTITUTION
    2225: 0  # TLC_CONFIG_WRONG_SUBSTITUTION_NUMBER_OF_ARGS
    2226: 0  # TLC_CONFIG_ID_DOES_NOT_APPEAR_IN_SPEC
    2227: 0  # TLC_CONFIG_NOT_BOTH_SPEC_AND_INIT
    2228: 0  # TLC_CONFIG_ID_REQUIRES_NO_ARG
    2229: 0  # TLC_CONFIG_SPECIFIED_NOT_DEFINED
    2230: 0  # TLC_CONFIG_ID_HAS_VALUE
    2231: 0  # TLC_CONFIG_MISSING_INIT
    2232: 0  # TLC_CONFIG_MISSING_NEXT
    2233: 0  # TLC_CONFIG_ID_MUST_NOT_BE_CONSTANT
    2234: 0  # TLC_CONFIG_OP_NO_ARGS
    2235: 0  # TLC_CONFIG_OP_NOT_IN_SPEC
    2236: 0  # TLC_CONFIG_OP_IS_EQUAL
    2237: 0  # TLC_CONFIG_SPEC_IS_TRIVIAL
    2238: 0  # TLC_CANT_HANDLE_SUBSCRIPT
    2239: 0  # TLC_CANT_HANDLE_CONJUNCT
    2240: 0  # TLC_CANT_HANDLE_TOO_MANY_NEXT_STATE_RELS
    2241: 0  # TLC_CONFIG_PROPERTY_NOT_CORRECTLY_DEFINED
    2242: 0  # TLC_CONFIG_OP_ARITY_INCONSISTENT
    2243: 0  # TLC_CONFIG_NO_STATE_TYPE
    2244: 0  # TLC_CANT_HANDLE_REAL_NUMBERS
    2245: 0  # TLC_NO_MODULES
    2280: 0  # TLC_CONFIG_UNDEFINED_OR_NO_OPERATOR
    2281: 0  # TLC_CONFIG_SUBSTITUTION_NON_CONSTANT

  # TLC liveness checking errors (2212-2265)
  liveness_errors:
    2213: 0  # TLC_LIVE_CANNOT_HANDLE_FORMULA
    2214: 0  # TLC_LIVE_WRONG_FORMULA_FORMAT
    2249: 0  # TLC_LIVE_ENCOUNTERED_ACTIONS
    2250: 0  # TLC_LIVE_STATE_PREDICATE_NON_BOOL
    2251: 0  # TLC_LIVE_CANNOT_EVAL_FORMULA
    2252: 0  # TLC_LIVE_ENCOUNTERED_NONBOOL_PREDICATE
    2253: 0  # TLC_LIVE_FORMULA_TAUTOLOGY
    2255: 0  # TLC_LIVE_FORMULA_STATE_LEVEL
    2257: 0  # TLC_CONFIG_NO_SPEC_BUT_PROPERTY
    2258: 0  # TLC_LIVE_FORMULA_AND_FAIRNESS_TAUTOLOGY
    2259: 0  # TLC_CONFIG_NO_FAIRNESS_BUT_LIVE_PROPERTY
    2260: 0  # TLC_ENABLED_WRONG_FORMULA
    2261: 0  # TLC_ENCOUNTERED_FORMULA_IN_PREDICATE

  # Parameter and check errors (3000-3114)
  parameter_errors:
    3000: 0  # CHECK_FAILED_TO_CHECK
    3001: 0  # CHECK_COULD_NOT_READ_TRACE
    3100: 0  # CHECK_PARAM_EXPECT_CONFIG_FILENAME
    3101: 0  # CHECK_PARAM_USAGE
    3102: 0  # CHECK_PARAM_MISSING_TLA_MODULE
    3103: 0  # CHECK_PARAM_NEED_TO_SPECIFY_CONFIG_DIR
    3104: 0  # CHECK_PARAM_WORKER_NUMBER_REQUIRED
    3105: 0  # CHECK_PARAM_WORKER_NUMBER_TOO_SMALL
    3106: 0  # CHECK_PARAM_WORKER_NUMBER_REQUIRED2
    3107: 0  # CHECK_PARAM_DEPTH_REQUIRED
    3108: 0  # CHECK_PARAM_DEPTH_REQUIRED2
    3109: 0  # CHECK_PARAM_TRACE_REQUIRED
    3110: 0  # CHECK_PARAM_COVREAGE_REQUIRED
    3111: 0  # CHECK_PARAM_COVREAGE_REQUIRED2
    3112: 0  # CHECK_PARAM_COVREAGE_TOO_SMALL
    3113: 0  # CHECK_PARAM_UNRECOGNIZED
    3114: 0  # CHECK_PARAM_TOO_MANY_INPUT_FILES

  # SANY error types - Pattern-matched error categories
  # Note: SANY doesn't output structured error codes, so we classify by error types
  sany_error_types:
    # Basic semantic errors
    SYMBOL_UNDEFINED: 0                              # Unknown operator/symbol errors
    SYMBOL_REDEFINED: 0                              # Symbol redefinition errors  
    BUILT_IN_SYMBOL_REDEFINED: 0                     # Built-in operator redefinition
    OPERATOR_GIVEN_INCORRECT_NUMBER_OF_ARGUMENTS: 0  # Wrong number of arguments
    OPERATOR_LEVEL_CONSTRAINTS_EXCEEDED: 0           # Level constraint violations
    ASSUMPTION_IS_NOT_CONSTANT: 0                    # Non-constant assumptions
    # Function and record errors
    FUNCTION_GIVEN_INCORRECT_NUMBER_OF_ARGUMENTS: 0  # Function arity mismatch
    FUNCTION_EXCEPT_AT_USED_WHERE_UNDEFINED: 0       # EXCEPT used where function undefined
    RECORD_CONSTRUCTOR_FIELD_REDEFINITION: 0         # Record field redefinition
    # Module import errors
    MODULE_FILE_CANNOT_BE_FOUND: 0                   # Missing module files
    MODULE_NAME_DIFFERENT_FROM_FILE_NAME: 0          # Module name mismatch
    MODULE_DEPENDENCIES_ARE_CIRCULAR: 0              # Circular dependencies
    # Instance substitution errors
    INSTANCE_SUBSTITUTION_MISSING_SYMBOL: 0          # Missing substitution symbol
    INSTANCE_SUBSTITUTION_ILLEGAL_SYMBOL_REDEFINITION: 0  # Illegal symbol redefinition
    # Higher-order operator errors
    HIGHER_ORDER_OPERATOR_REQUIRED_BUT_EXPRESSION_GIVEN: 0  # Higher-order operator errors
    HIGHER_ORDER_OPERATOR_ARGUMENT_HAS_INCORRECT_ARITY: 0   # Arity mismatch
    # Recursive operator errors
    RECURSIVE_OPERATOR_DECLARED_BUT_NOT_DEFINED: 0   # Undefined recursive operators
    RECURSIVE_OPERATOR_DECLARATION_DEFINITION_ARITY_MISMATCH: 0  # Arity mismatch
    # Temporal logic errors
    ALWAYS_PROPERTY_SENSITIVE_TO_STUTTERING: 0       # Always property stuttering issues
    EVENTUALLY_PROPERTY_SENSITIVE_TO_STUTTERING: 0   # Eventually property stuttering issues
    # Label errors
    LABEL_REDEFINITION: 0                            # Label redefinition
    LABEL_GIVEN_INCORRECT_NUMBER_OF_ARGUMENTS: 0     # Label arity errors
    # Proof-related errors (NEW)
    PROOF_STEP_WITH_IMPLICIT_LEVEL_CANNOT_HAVE_NAME: 0  # Proof step naming issues
    PROOF_STEP_NON_EXPRESSION_USED_AS_EXPRESSION: 0     # Expression type errors in proofs
    ASSUME_PROVE_USED_WHERE_EXPRESSION_REQUIRED: 0      # ASSUME/PROVE usage errors
    TEMPORAL_PROOF_GOAL_WITH_NON_CONSTANT_TAKE_WITNESS_HAVE: 0  # Temporal proof constraint errors
    USE_OR_HIDE_FACT_NOT_VALID: 0                       # USE/HIDE statement errors
    # Syntax/Parse errors (COMMON - 9000+ series)
    INDENTATION_ERROR: 0                             # Improper indentation in conjunction/disjunction
    OPERATOR_PRECEDENCE_CONFLICT: 0                  # Operator precedence conflicts
    UNEXPECTED_TOKEN: 0                              # Unexpected tokens
    EXPECTED_TOKEN_MISSING: 0                        # Missing expected tokens
    MISSING_OPERATOR: 0                              # Missing operators between expressions
    GENERAL_PARSE_ERROR: 0                           # General TLA+ parsing errors
    # Internal and unsupported errors
    INTERNAL_ERROR: 0                                # Internal SANY errors
    UNSUPPORTED_LANGUAGE_FEATURE: 0                  # Unsupported TLA+ features
    OTHER_SANY_ERROR: 0                              # Unclassified SANY errors

  # Config file parsing errors (5001-5006)
  config_file_errors:
    5001: 0  # CFG_ERROR_READING_FILE
    5002: 0  # CFG_GENERAL
    5003: 0  # CFG_MISSING_ID
    5004: 0  # CFG_TWICE_KEYWORD
    5005: 0  # CFG_EXPECT_ID
    5006: 0  # CFG_EXPECTED_SYMBOL

# VIOLATIONS - These should NOT be counted as errors
# They represent successful model checking that found issues
violation_codes:
  # Note: These are tracked separately and should remain at 0 in error statistics
  2104: 0  # TLC_ASSUMPTION_FALSE
  2105: 0  # TLC_ASSUMPTION_EVALUATION_ERROR  
  2107: 0  # TLC_INVARIANT_VIOLATED_INITIAL
  2108: 0  # TLC_PROPERTY_VIOLATED_INITIAL
  2110: 0  # TLC_INVARIANT_VIOLATED_BEHAVIOR
  2112: 0  # TLC_ACTION_PROPERTY_VIOLATED_BEHAVIOR
  2114: 0  # TLC_DEADLOCK_REACHED
  2116: 0  # TLC_TEMPORAL_PROPERTY_VIOLATED
  2132: 0  # TLC_VALUE_ASSERT_FAILED

# Basic statistics
statistics:
  total_runs: 0
  successful_runs: 0
  failed_runs: 0